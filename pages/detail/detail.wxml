<!-- detail.wxml -->
<!-- detail.wxml -->
<view>
    <scroll-view scroll-y style="height:100%;position: absolute;" bindscroll="recordUserscroll">
        <rich-text class="_root" nodes="{{nodes}}"></rich-text>
    </scroll-view>
    <!-- 悬浮部分 -->
    <form name='pushMsgFm' report-submit='true' bindsubmit='getFormID'>
        <button form-type="submit" class="btnForm">
            <view class="fixed {{isShow?'show':''}} state1">
                <view class="floatShadow"></view>
                <view style="display: flex;flex-direction: row;background: #ffffff;height: 100rpx;width:100%">
                    <!-- <view wx:if="{{isEyes}}">123</view> -->
                    <button class="btnBoxKonw" style='flex:4' form-type="submit" data-item="know" bindgetuserinfo="handleAuthor" open-type="{{type}}">
                        <!-- hidden="{{isEyes}}" -->
                        <image class="imgBtnKonw" src="/images/eye.png"></image>
                        <view class="letterKonw">让朋友知道我在读</view>
                    </button>
                    <button class="btnBox" style='flex:1' catchtap="handleLikeButtonTapped" form-type="submit" data-item="like" bindgetuserinfo="handleAuthor" open-type="{{type}}" style="text-align:center;opacity: 1;background:#ffffff;flex:0.5;position: relative;z-index: 2;{{isIphoneX?'height:194rpx':'height:134rpx'}}">
                        <image class="imgBtn" src="{{isLike?('/images/likeAfter.png'):('/images/likeBefore.png')}}"></image>
                        <view class="letter">收藏</view>
                    </button>
                    <button class="btnBox" style='flex:1' open-type="{{type1}}" data-item="share" form-type="submit" bindgetuserinfo="handleAuthor" style="text-align:center;border-color: #ffffff;opacity: 1;background:#ffffff;flex:0.5;position: relative;z-index: 2;{{isIphoneX?'height:194rpx':'height:134rpx'}}">
                        <image class="imgBtn" src="{{shareButton}}"></image>
                        <view class="letter">分享</view>
                    </button>
                    <button class="btnBox" style='flex:2' open-type="{{type}}" form-type="submit" data-item="poster" bindgetuserinfo="handleAuthor" catchtap="handlePoster" style="{{isIphoneX?'height:194rpx':'height:134rpx'}}">
                        <image class="imgBtn" src="/images/circle.png"></image>
                        <view class="letter">生成分享海报</view>
                    </button>
                </view>
                <view wx:if="{{isIphoneX}}" class="bol"></view>
                <view wx:else></view>
            </view>
        </button>
    </form>
</view>
<!-- 悬浮回到首页 -->
<form name='pushMsgFm' report-submit='true' bindsubmit='getFormID' wx:if="{{isShare}}">
    <button form-type="submit" class="btnForm">
        <image src="/images/goHome.png" class="{{isShare?'goHomeStyle':'goHomeStyle1'}} state1" bindtap="handleBack"></image>
    </button>
</form>
<!-- 生成海报 -->
<view wx:if="{{isShowPoster}}" style="position:fixed;bottom:0;left:0;right:0;top:0;background:rgba(0,0,0,0.65);z-index:90">
    <canvas style="width: 320px; height: 400px;background:#fff;margin-top:100px;margin-left:54rpx;border-radius:16rpx;" canvas-id="shareCanvas"></canvas>
    <button bindtap="handleSavePicture" class="btnSavePicture">以保存到相册，记得分享哦</button>
</view>