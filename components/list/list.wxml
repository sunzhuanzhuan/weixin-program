<template name="list">
    <block wx:if="{{list.items.length>0}}">

        <!-- 推荐页的文章 -->
        <block wx:if="{{list._id==='topScoreds'}}" >
            <swiper current="{{currentSwiper}}" duration="600" circular="true" previous-margin="60rpx" next-margin="60rpx" style="height:340rpx;margin:30rpx 0;" bindchange="handleChangeSwiper">
                <swiper-item class="swiperItem"  bindtap="handleDetail" data-id="{{imgUrls[1]._id}}">
                    <image class="swiperImage {{swiperActiveZero[0]}}" mode="aspectFill" style="{{swiperActiveZero[0]}};" src="{{imgUrls[1].coverUrl}}"/>
                    <view class="fontShadow {{swiperActiveZero[2]}}" style="width:600rpx">
                        <view class='nowrapOne swiperCommon'>
                            {{imgUrls[1].title}}
                        </view>
                    </view>
                   
                    <image src="/images/no3.png" class="swiperNo {{swiperActiveZero[1]}}" />
                   
                </swiper-item>
                <swiper-item class="swiperItem"  bindtap="handleDetail" data-id="{{imgUrls[0]._id}}">
                    <image class="swiperImage {{swiperActiveOne[0]}}" mode="aspectFill" style="{{swiperActiveZero[0]}};" src="{{imgUrls[0].coverUrl}}"/>
                     <view class="fontShadow {{swiperActiveOne[2]}}" style="width:600rpx">
                        <view class='nowrapOne swiperCommon'>
                            {{imgUrls[0].title}}
                        </view>
                    </view>
                    
                    <image src="/images/no1.png"  class="swiperNo {{swiperActiveOne[1]}}" style="color:#333333;width:80rpx;height:40rpx;background:#ffe000;" />
                </swiper-item>
                <swiper-item  class="swiperItem"  bindtap="handleDetail" data-id="{{imgUrls[2]._id}}">
                    <image  class="swiperImage {{swiperActiveTwo[0]}}" mode="aspectFill" style="{{swiperActiveTwo[0]}};" src="{{imgUrls[2].coverUrl}}"/>
                     <view class="fontShadow {{swiperActiveTwo[2]}}" style="width:600rpx">
                        <view class='nowrapOne swiperCommon'>
                            {{imgUrls[2].title}}
                        </view>
                    </view>
                    
                    <image src="/images/no2.png"  class="swiperNo {{swiperActiveTwo[1]}}"/>
                </swiper-item>
                
            </swiper>

        </block>

    <view bind:touchstart="handleTouchStart"
            bind:touchend="handleTouchEnd">

        <view wx:for="{{list.items}}" class="container" wx:key="{{index}}" style="overflow:hidden;{{index==0?'margin-top:20rpx':''}}">
            <view  wx:if="{{item.type === 'wxArticle'}}">
                <!-- 小图 -->
                <view class="item item-{{index}}" wx:if="{{!(item.wxMidVec && item.wxMidVec[item.wxMidVec.length-1] == '1')}}" style="background:#f3eeef;{{list.items[index-1].wxMidVec && list.items[index-1].wxMidVec[list.items[index-1].wxMidVec.length-1] == '1'?'margin-top:15rpx':''}};{{(list.items[index+1].wxMidVec && list.items[index+1].wxMidVec[list.items[index+1].wxMidVec.length-1] == '1')?'margin-bottom:15rpx':''}}">
                    <view style="width:100%;overflow:hidden;background:#ffffff;">
                        
                        <view class="itemSmall" style="float:right;{{(list.items[index+1].wxMidVec && list.items[index+1].wxMidVec[list.items[index+1].wxMidVec.length-1] == '1')?'':'border-bottom: 1rpx solid #E6E6E6;'}}">
                            <image style="float:right;width:240rpx;height:180rpx;border-radius:8rpx" mode="aspectFill" src="{{item.coverUrl}}" bindtap="handleDetail" data-id="{{item._id}}"  data-everyIndex="{{index}}"></image>
                            <view style="float:rigth;width:430rpx;height:180rpx;position:relative;">
                                <text class="{{item.viewed?'readNowrapTwo':'nowrapTwo'}}" bindtap="handleDetail" data-id="{{item._id}}" data-everyIndex="{{index}}">{{item.title}}</text>
                                
                                    <view style="background:#ffffff;width:430rpx;position:absolute;bottom:0;height:32rpx;overflow:hidden" hover-class="">
                                        <form name='pushMsgFm' report-submit='true' bindsubmit='getFormID'>
                                         <!-- wx:if="{{item.wxmpVoiceIds.length>0}}"  -->
                                            <button wx:if="{{item.wxmpVoiceIds.length>0}}"  style='float:left;background:#fff;margin-right:-20rpx;' form-type="submit" class='btnListenSmall'  data-tabList="{{currentTabIndex}}" 
                                            form-type="submit" bindtap="handleListing"  data-id="{{item._id}}" data-index="{{index}}" data-item="{{item}}" bindgetuserinfo="handleAuthor" open-type="{{type}}">
                                                    <image class="imgBtnItem"  style="vertical-align:top;" src="{{listenIndexCurrent==index && letter?'/images/mini.gif':'/images/playing.png'}}"></image>
                                                    <text wx:if="{{listenIndexCurrent==index && letter}}" style="{{listenIndexCurrent==index && letter?'color:#fff;background:#333;':'color:#999;background:#ffe000;'}};vertical-align:top;font-size:24rpx;border-radius:6rpx;margin-left:10rpx;padding:4rpx 6rpx;display:inline-block;line-height:12rpx;height: 100rpx;height:30rpx">
                                                        暂停
                                                    </text>
                                                    <text wx:else style="{{listenIndexCurrent==index && letter?'color:#fff;background:#333;':'color:#333;background:#ffe000;'}};vertical-align:top;font-size:24rpx;border-radius:6rpx;margin-left:10rpx;padding:4rpx 6rpx;display:inline-block;line-height:12rpx;height: 100rpx;height:30rpx">
                                                        听一听
                                                    </text>
                                                </button>
                                           
                                            <button wx:else class='btnListenSmall' style='float:left;background:#fff;margin-right:-20rpx' form-type="submit" form-type="submit" data-liked="{{item.liked}}" data-id="{{item._id}}" data-item="{{item}}" bindgetuserinfo="handleAuthor" open-type="{{type}}">
                                                   
                                            </button>

                                                <button  class='btnListenSmallL'> </button>
                                            
                                           
                                        </form>
                                        <form name='pushMsgFm' report-submit='true' bindsubmit='getFormID'>
                                        <button  form-type="submit"  class='btnShare'  style='float:right;background:#fff;margin-right:-18rpx;height:32rpx' open-type="{{type1}}" data-item="{{item}}" form-type="submit" bindgetuserinfo="handleAuthor">
                                            <image class="imgBtnItem" src="/images/share.png" style="vertical-align:top;"></image>
                                        </button>
                                        </form>
                                        <form name='pushMsgFm' report-submit='true' bindsubmit='getFormID'>
                                        <button form-type="submit"  class='btnStar' style='background:#fff;width:120rpx;height:32rpx' catchtap="handleLikeButtonTapped" form-type="submit" data-item="{{item}}" bindgetuserinfo="handleAuthor" open-type="{{type}}">
                                            <image class="imgBtnItem" src="{{item.liked?'/images/allStar.png':'/images/star.png'}}" style="float:left;vertical-align:top;"></image>
                                            <text style="vertical-align:top;color:#999;font-size:24rpx;margin-left:10rpx;display:inline-block;float:left;height:32rpx;line-height:0.5">
                                                {{item._likedTimes}}
                                            </text>
                                        </button>
                                        </form>
                                    </view>
                            </view>
                        </view>
                    </view>
                </view>

                <view wx:else>
                    <view class="item  item-{{index}} itemBigBox">
                        <!-- 大图 -->
                        <view>
                            <view bindtap="handleDetail" data-id="{{item._id}}" data-everyIndex="{{index}}">
                                <form name='pushMsgFm' report-submit='true' bindsubmit='getFormID'>
                                    <button form-type="submit" hover-class='none' style="position:relative;padding:0;height:400rpx;border-radius:8rpx 8rpx 0 0">
                                        
                                        <image style="width:690rpx;height:400rpx;display:block" mode="aspectFill" src="{{item.coverUrl}}"></image>
                                        <view class="fontShadow" style="position:absolute;z-index:1;bottom:0;left:0;color:#fff">
                                            <view class="{{item.viewed?'readNowrapOne':'nowrapOne'}}" style="margin-left:20rpx;line-height:100rpx;text-align:left;font-weight:bold">
                                                {{item.title}}
                                            </view>
                                        </view>
                                        
                                    </button>
                                </form>
                            </view>
                            <view style="background:#ffffff;height:100rpx;width:690rpx;">
                                <view class="videoTitle" data-id="{{item._id}}"></view>
                                <view data-id="{{item._id}}" style="">
                                   
                                        <form name='pushMsgFm' report-submit='true' bindsubmit='getFormID'>
                                            <button wx:if="{{item.wxmpVoiceIds.length>0}}" form-type="submit" class='btnListen'
                                            form-type="submit" bindtap="handleListing"  data-id="{{item._id}}" data-index="{{index}}" data-item="{{item}}" bindgetuserinfo="handleAuthor" open-type="{{type}}"  data-tabList="{{currentTabIndex}}" >
                                                    <image class="imgBtnItem" style="margin-top:30rpx;float:left" src="{{listenIndexCurrent==index && letter?'/images/mini.gif':'/images/playing.png'}}"></image>
                                                    <text wx:if="{{listenIndexCurrent==index && letter}}" style="{{listenIndexCurrent==index && letter?'color:#fff;background:#333;':'color:#999;background:#ffe000;'}};vertical-align:top;margin-top:30rpx;font-size:24rpx;border-radius:6rpx;margin-left:10rpx;padding:4rpx 6rpx;display:inline-block;line-height:10rpx;height:28rpx">
                                                        暂停
                                                    </text>
                                                    <text wx:else style="{{listenIndexCurrent==index && letter?'color:#fff;background:#333;':'color:#333;background:#ffe000;'}};vertical-align:top;margin-top:30rpx;font-size:24rpx;border-radius:6rpx;margin-left:10rpx;padding:4rpx 6rpx;display:inline-block;line-height:10rpx;height:28rpx">
                                                        听一听
                                                    </text>
                                                </button>
                                           

                                            
                                            <button wx:else form-type="submit" class='btnListen' form-type="submit" data-liked="{{item.liked}}" data-id="{{item._id}}" data-item="{{item}}" bindgetuserinfo="handleAuthor" open-type="{{type}}">
                                                  
                                                </button>
                                             <button  class='btnListen'> </button>
                                               
                                           
                                        </form>
                                           <form name='pushMsgFm' report-submit='true' bindsubmit='getFormID'>
                                            <button form-type="submit" class='btnStar' catchtap="handleLikeButtonTapped" form-type="submit" data-liked="{{item.liked}}" data-id="{{item._id}}" data-item="{{item}}" bindgetuserinfo="handleAuthor" open-type="{{type}}">
                                                    <image class="imgBtnItem" style="margin-top:32rpx" src="{{item.liked?'/images/allStar.png':'/images/star.png'}}"></image>
                                                    <text style="vertical-align:top;color:#999;font-size:24rpx;padding-left:10rpx;display:inline-block;line-height:34rpx;height: 100rpx;">
                                                        {{item._likedTimes}}
                                                    </text>
                                                </button>
                                            </form>
                                            <form name='pushMsgFm' report-submit='true' bindsubmit='getFormID'>
                                                <button form-type="submit" class='btnShare' open-type="{{type1}}" data-item="{{item}}" form-type="submit" bindgetuserinfo="handleAuthor">
                                                    <image class="imgBtnItem" src="/images/share.png" style="margin-top:32rpx"></image>
                                                </button>
                                            </form>
                                </view>
                            </view>
                        </view>
                    </view>
                </view>
            </view>
        </view>
        <view wx:if="{{isMore}}" style="width:100%; height:60rpx;font-size: 28rpx;text-align: center;line-height: 60rpx;position: fixed;bottom: -800rpx"></view>
       <view wx:else style="width:100%; height:200rpx;font-size: 28rpx;text-align: center;margin-top:60rpx">
            <view style='height:50rpx;overflow:hidden'>
                <image src="/images/logo.png" style="vertical-align:top;width:32rpx;height:32rpx;margin-right: 12rpx;float:left;margin-top:10rpx;padding-left:210rpx;"></image>
                <text style="color:#ccc;font-size:20rpx;float:left;vertical-align:top;line-height:25px;height:25px"> 由小鱼聚合平台提供技术支持</text>
            </view>
            <!-- <view style="text-align:center;dispaly:block">产品意见反馈请添加微信：13264256564</view> -->
        </view>
        </view>
    </block>
    <block wx:else>
        <view wx:if="{{isMore}}" style="width:100%; height:60rpx;font-size: 28rpx;text-align: center;line-height: 60rpx;position: fixed;bottom: -800rpx"></view>
        <view wx:else style="width:100%; height:200rpx;font-size: 28rpx;text-align: center;margin-top:60rpx">
            <view style='height:50rpx;overflow:hidden'>
                <image src="/images/logo.png" style="vertical-align:top;width:32rpx;height:32rpx;margin-right: 12rpx;float:left;margin-top:10rpx;padding-left:210rpx;"></image>
                <text style="color:#ccc;font-size:20rpx;float:left;vertical-align:top;line-height:25px;height:25px"> 由小鱼聚合平台提供技术支持</text>
            </view>
            <!-- <view style="text-align:center;dispaly:block">产品意见反馈请添加微信：13264256564</view> -->
        </view>
    </block>
</template>